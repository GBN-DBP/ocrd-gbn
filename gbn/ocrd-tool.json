{
  "version": "0.0.1",
  "git_url": "https://github.com/sulzbals/gbn",
  "tools": {
    "ocrd-gbn-sbb-predict": {
      "executable": "ocrd-gbn-sbb-predict",
      "categories": [
        "Layout analysis"
      ],
      "description": "Predicts pixels of input image as text or non-text given a model and outputs the labels given to each pixel as a binary image",
      "steps": [
        "layout/analysis"
      ],
      "input_file_grp": [
        "OCR-D-BIN"
      ],
      "output_file_grp": [
        "OCR-D-PRED"
      ],
      "parameters": {
        "model": {
          "type": "string",
          "format": "file",
          "cacheable": true,
          "description": "Path of model to be run"
        },
        "prediction_method": {
          "type": "string",
          "enum": [
            "whole",
            "patches",
            "bordered_patches"
          ],
          "default": "whole",
          "description": "How the image should be passed to the model (whole image or split in patches)"
        },
        "operation_level": {
          "type": "string",
          "enum": [
            "page",
            "region",
            "line"
          ],
          "default": "page",
          "description": "PAGE XML hierarchy level to operate on"
        }
      }
    },
    "ocrd-gbn-mask": {
      "executable": "ocrd-gbn-mask",
      "categories": [
        "Image preprocessing"
      ],
      "description": "Applies a mask (represented as a binary, black-and-white image) in the binarized input page",
      "steps": [
        "preprocessing/optimization/cropping"
      ],
      "input_file_grp": [
        "OCR-D-BIN"
      ],
      "output_file_grp": [
        "OCR-D-MASK"
      ],
      "parameters": {
        "bg_color": {
          "type": "string",
          "enum": [
            "black",
            "white"
          ],
          "default": "black",
          "description": "Background color, or color of the non-masked pixels of the output page"
        }
      }
    },
    "ocrd-gbn-sbb-page-segment": {
      "executable": "ocrd-gbn-sbb-page-segment",
      "categories": [
        "Layout analysis"
      ],
      "description": "Segments text regions from input page given the predictions of both text regions and text lines as input",
      "steps": [
        "layout/segmentation/region"
      ],
      "input_file_grp": [
        "OCR-D-PREDICT-PAGE-TXTREG",
        "OCR-D-PREDICT-PAGE-TXTLINE"
      ],
      "output_file_grp": [
        "OCR-D-SEG-PAGE"
      ],
      "parameters": {
        "min_textline_density": {
          "type": "number",
          "default": 0.05,
          "description": "Minimum ratio of detected text line pixels of a bounding box for it to be considered a text region"
        },
        "max_foreground_density": {
          "type": "number",
          "default": 0.8,
          "description": "Maximum ratio of foreground (black) pixels of a bounding box for it to be considered a text region"
        }
      }
    },
    "ocrd-gbn-sbb-region-segment": {
      "executable": "ocrd-gbn-sbb-region-segment",
      "categories": [
        "Layout analysis"
      ],
      "description": "Segments text lines from text regions of input page given the prediction of text lines as input",
      "steps": [
        "layout/segmentation/line"
      ],
      "input_file_grp": [
        "OCR-D-PREDICT-REG-TXTLINE"
      ],
      "output_file_grp": [
        "OCR-D-SEG-REG"
      ],
      "parameters": {}
    }
  }
}
